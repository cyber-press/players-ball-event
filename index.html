<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Player's Ball - A Soul Train Vibe!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fascinate+Inline&family=Righteous&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Analytics 4 (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX'); // Replace G-XXXXXXXXXX with your Measurement ID
    </script>
    <style>
        :root {
            --yellow: #facc15;
            --orange: #f97316;
            --purple: #3730a3;
            --brown: #291d19;
            --cream: #fef3c7;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--brown);
            color: var(--cream);
            overflow-x: hidden;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--brown); }
        ::-webkit-scrollbar-thumb { background: var(--orange); border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--yellow); }

        #luxury-animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--brown);
            z-index: -1;
            overflow: hidden;
        }
        .light {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: fadeIn 5s infinite alternate;
            will-change: transform;
            transition: transform 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 0.2; }
        }

        .font-fascinate { font-family: 'Fascinate Inline', cursive; }
        .font-righteous { font-family: 'Righteous', cursive; }
        .header-bg { 
            background-color: rgba(20, 8, 5, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 3px solid var(--orange);
        }
        .funky-panel { 
            background-color: rgba(67, 20, 5, 0.5);
            border: 3px solid var(--orange);
            border-radius: 20px;
            box-shadow: 0 0 25px rgba(249, 115, 22, 0.2);
        }
        
        .yellow-text { color: var(--yellow); }
        .orange-text { color: var(--orange); }

        .btn-primary {
            background-color: var(--orange);
            color: var(--brown);
            font-family: 'Righteous', cursive;
            font-size: 1.125rem;
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            border: 2px solid #000;
            transition: all 0.3s ease;
            text-transform: uppercase;
            box-shadow: 4px 4px 0px #000;
        }
        .btn-primary:hover {
            background-color: var(--yellow);
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px #000;
        }

        .rainbow-title {
            background: linear-gradient(90deg, #ef4444, #f97316, #eab308, #84cc16, #22d3ee, #a855f7, #ef4444);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow-flow 8s linear infinite;
        }
        @keyframes rainbow-flow {
            to { background-position: 200% center; }
        }

        /* Scroll Animations */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed; inset: 0; background-color: rgba(41, 29, 25, 0.8);
            backdrop-filter: blur(5px); z-index: 100;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }
        .modal-content {
             transform: scale(0.95); transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-content { transform: scale(1); }
        
        /* Marquee Styles */
        .marquee {
            white-space: nowrap;
            overflow: hidden;
            position: relative;
            background-color: var(--purple);
            padding: 0.5rem 0;
            border-top: 3px solid var(--yellow);
            border-bottom: 3px solid var(--yellow);
        }
        .marquee-content {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 40s linear infinite;
        }
        .marquee-content span {
            margin: 0 2rem;
            font-family: 'Righteous', cursive;
            font-size: 1.25rem;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
    </style>
</head>
<body class="w-full">
    <div id="luxury-animated-background"></div>

    <!-- Header -->
    <header class="header-bg sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-3xl font-fascinate yellow-text">THE DUNGEON</div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#events" class="text-gray-300 hover:yellow-text transition smooth-scroll font-righteous text-lg">SHOWTIME</a>
                <a href="#about" class="text-gray-300 hover:yellow-text transition smooth-scroll font-righteous text-lg">THE HISTORY</a>
                <a href="#location" class="text-gray-300 hover:yellow-text transition smooth-scroll font-righteous text-lg">THE SPOT</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-300">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
            </button>
        </nav>
        <!-- Mobile menu -->
        <div class="hidden md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#events" class="text-gray-300 hover:bg-orange-800/50 hover:text-white block px-3 py-2 rounded-md text-base font-medium mobile-nav-link smooth-scroll">SHOWTIME</a>
                <a href="#about" class="text-gray-300 hover:bg-orange-800/50 hover:text-white block px-3 py-2 rounded-md text-base font-medium mobile-nav-link smooth-scroll">THE HISTORY</a>
                <a href="#location" class="text-gray-300 hover:bg-orange-800/50 hover:text-white block px-3 py-2 rounded-md text-base font-medium mobile-nav-link smooth-scroll">THE SPOT</a>
            </div>
        </div>
    </header>
    
    <!-- Scrolling Shout-Outs Marquee -->
    <div class="marquee">
        <div id="marquee-content" class="marquee-content">
             <span>Wishing you peace, love, and soul!</span>
             <span>Get down at the Player's Ball!</span>
        </div>
    </div>


    <!-- Main Content -->
    <div class="container mx-auto px-6 py-12">
        <div class="flex flex-col lg:flex-row gap-10">

            <!-- Left Column: Main Info -->
            <main class="w-full lg:w-2/3">
                <!-- Venue Header -->
                <div class="mb-8 fade-in-section">
                    <h1 class="font-fascinate text-8xl md:text-9xl text-white rainbow-title">Player's Ball</h1>
                    <p class="font-righteous text-3xl text-yellow-100/70 mt-2">at Horizon & More</p>
                </div>

                <!-- Upcoming Events Section -->
                <div id="events" class="fade-in-section funky-panel shadow-xl p-8 mt-8">
                    <h2 class="font-righteous text-5xl font-bold text-white border-b-2 border-orange-500/30 pb-4 mb-6 yellow-text">Showtime!</h2>
                    
                    <div>
                        <div class="flex flex-col md:flex-row items-center gap-6">
                            <div class="w-full">
                                <h3 class="font-righteous text-3xl orange-text">Saturday, September 13th, 2025</h3>
                                <p class="text-yellow-100/70 mb-4">Brought to you by The Dungeon</p>
                                
                                <!-- Countdown Timer -->
                                <div id="countdown" class="grid grid-cols-4 gap-4 text-center my-6">
                                    <div><p id="days" class="font-fascinate text-6xl yellow-text">00</p><span class="text-xs text-yellow-200/50">DAYS</span></div>
                                    <div><p id="hours" class="font-fascinate text-6xl yellow-text">00</p><span class="text-xs text-yellow-200/50">HOURS</span></div>
                                    <div><p id="minutes" class="font-fascinate text-6xl yellow-text">00</p><span class="text-xs text-yellow-200/50">MINUTES</span></div>
                                    <div><p id="seconds" class="font-fascinate text-6xl yellow-text">00</p><span class="text-xs text-yellow-200/50">SECONDS</span></div>
                                </div>
                                <div id="live-status" class="hidden text-center my-6">
                                    <p class="font-fascinate text-6xl orange-text animate-pulse">It's Party Time!</p>
                                </div>

                                <div class="flex items-center text-lg space-x-4 mb-4">
                                    <span class="font-bold">8:00 PM - 2:00 AM</span>
                                    <span class="text-orange-800">&bull;</span>
                                    <span class="font-bold orange-text">FREE ENTRY</span>
                                </div>
                                <div class="relative inline-block mt-4">
                                    <button id="calendar-button-toggle" class="btn-primary inline-flex items-center gap-2">
                                        <span id="calendar-button-text">Add to Calendar</span>
                                        <svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                        </svg>
                                    </button>
                                    <div id="calendar-dropdown" class="hidden absolute bottom-full mb-2 w-56 funky-panel rounded-lg shadow-xl overflow-hidden z-10">
                                        <ul class="text-center">
                                            <li><a href="#" id="google-cal-link" target="_blank" class="block w-full px-4 py-3 text-sm text-gray-200 hover:bg-orange-800/50 transition duration-150 ease-in-out font-righteous">Google Calendar</a></li>
                                            <li><a href="#" id="ics-cal-link" class="block w-full px-4 py-3 text-sm text-gray-200 hover:bg-orange-800/50 transition duration-150 ease-in-out font-righteous">Apple / .ics</a></li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <hr class="border-orange-500/20 my-8">
                                
                                <h3 class="font-righteous text-3xl text-white mb-4 yellow-text">The Soul Train Lineup</h3>
                                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                    <button class="intel-button funky-panel p-4 rounded-lg text-center hover:border-yellow-400" data-modal="style-guide-modal">üèÜ<span class="block text-sm mt-2">Dress Code</span></button>
                                    <button class="intel-button funky-panel p-4 rounded-lg text-center hover:border-yellow-400" data-modal="games-modal">üé≤<span class="block text-sm mt-2">Games</span></button>
                                    <button class="intel-button funky-panel p-4 rounded-lg text-center hover:border-yellow-400" data-modal="lounge-modal">üí®<span class="block text-sm mt-2">Patio Lounge</span></button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- History Section -->
                <div id="about" class="fade-in-section funky-panel shadow-xl p-8 mt-8">
                     <h2 class="font-righteous text-5xl font-bold text-white border-b-2 border-orange-500/30 pb-4 mb-6 yellow-text">Dig the History</h2>
                     <p class="text-gray-200 leading-relaxed text-lg">
                        A "Player's Ball" is an annual event that began in 1974 as a gathering for pimps, serving as a social event and celebration of their success. These gatherings often feature extravagant attire and entertainment. The event is historically associated with figures like 
                        <a href="https://www.google.com/search?q=Bishop+Don+%22Magic%22+Juan" target="_blank" class="orange-text hover:underline font-bold">Bishop Don "Magic" Juan</a> 
                        and also refers to the 1993 debut single by the 
                        <a href="https://www.google.com/search?q=Outkast" target="_blank" class="orange-text hover:underline font-bold">hip-hop group Outkast</a>, 
                        which was named after this tradition.
                     </p>
                </div>

                <!-- Map Section -->
                <div id="location" class="fade-in-section funky-panel shadow-xl mt-8 overflow-hidden">
                     <h2 class="font-righteous text-5xl font-bold text-white p-8 pb-4 yellow-text">The Spot</h2>
                     <p class="px-8 pb-4 text-yellow-100/80 text-lg">2818 NE Interstate 410 Loop, San Antonio, TX 78217</p>
                     <div class="p-8 pt-0">
                        <div class="rounded-lg overflow-hidden border-2 border-orange-500/30 h-96">
                            <iframe id="google-map-embed" class="w-full h-full"
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3472.775815324545!2d-98.42050402465719!3d29.492211442118324!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x865c6062f4434255%3A0x6731a542159cf058!2s2818%20NE%20Interstate%20410%20Loop%2C%20San%20Antonio%2C%20TX%2078217!5e0!3m2!1sen!2sus!4v1725333105745!5m2!1sen!2sus"
                                style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                        <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                             <a id="uber-link" href="https://m.uber.com/ul/?action=setPickup&dropoff[latitude]=29.492211&dropoff[longitude]=-98.420504&dropoff[formatted_address]=2818%20NE%20Interstate%20410%20Loop%2C%20San%20Antonio%2C%20TX%2078217" target="_blank" class="btn-primary text-center">
                                Call an Uber
                             </a>
                             <a id="lyft-link" href="https://lyft.com/ride?id=lyft&destination[latitude]=29.492211&destination[longitude]=-98.420504" target="_blank" class="btn-primary text-center bg-pink-600 hover:bg-pink-500">
                                Call a Lyft
                             </a>
                        </div>
                     </div>
                </div>
            </main>

            <!-- Right Column: Sidebar -->
            <aside class="w-full lg:w-1/3 fade-in-section">
                <div class="funky-panel shadow-xl p-6 sticky top-28">
                     <h2 class="font-righteous text-2xl font-bold text-white pb-4 yellow-text">Get Connected</h2>
                     <div class="flex space-x-4">
                        <a href="https://facebook.com/events/s/players-ball/826106996612735/" target="_blank" class="text-gray-400 hover:yellow-text transition"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.32 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96C18.34 21.21 22 17.06 22 12.06C22 6.53 17.5 2.04 12 2.04Z"/></svg></a>
                     </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modals -->
    <div id="style-guide-modal" class="modal-overlay">
        <div class="modal-content funky-panel rounded-lg shadow-xl p-8 w-full max-w-2xl m-4">
            <h2 class="font-righteous text-4xl yellow-text mb-6 text-center">What's the Dress Code?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                <div>
                    <img src="https://placehold.co/400x500/291d19/facc15?text=Fly+Threads" class="rounded-lg border-2 border-orange-500/50 mb-2">
                    <h3 class="font-righteous text-2xl orange-text">For the Fellas</h3>
                    <p class="text-cream text-sm">Think bell bottoms, wide-collared shirts, velvet suits, and platform shoes. Don't be afraid of bold patterns and bright colors. Accessorize with gold chains and wide-brimmed hats.</p>
                </div>
                <div>
                    <img src="https://placehold.co/400x500/291d19/facc15?text=Foxy+Looks" class="rounded-lg border-2 border-orange-500/50 mb-2">
                    <h3 class="font-righteous text-2xl orange-text">For the Ladies</h3>
                    <p class="text-cream text-sm">Flowing maxi dresses, sequined jumpsuits, and high-waisted flare pants are where it's at. Go for bold prints, fringe, and afros. Platform heels are a must to complete the look.</p>
                </div>
            </div>
            <p class="text-center mt-6 text-yellow-100/80 italic">The winner of Best Dressed gets a grand prize and eternal bragging rights!</p>
            <div class="text-center mt-6">
                <button class="close-modal-button btn-primary">Got It!</button>
            </div>
        </div>
    </div>
    <div id="games-modal" class="modal-overlay">
         <div class="modal-content funky-panel rounded-lg shadow-xl p-8 w-full max-w-md m-4 text-center">
            <h2 class="font-righteous text-3xl yellow-text mb-4">Games</h2>
            <p class="text-gray-200 text-lg">Get your game on! Join a round of "Bih Better Have My Money," or test your skills in classic games of Spades & Dominoes. It's gonna be a stone cold trip!</p>
            <button class="close-modal-button mt-6 btn-primary">Groovy</button>
        </div>
    </div>
     <div id="lounge-modal" class="modal-overlay">
         <div class="modal-content funky-panel rounded-lg shadow-xl p-8 w-full max-w-md m-4 text-center">
            <h2 class="font-righteous text-3xl yellow-text mb-4">Patio Lounge</h2>
            <p class="text-gray-200 text-lg">Chill out on the patio. Enjoy fine cigars and network with fellow players in a relaxed atmosphere. What a scene!</p>
            <button class="close-modal-button mt-6 btn-primary">Outta Sight</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="header-bg mt-12">
        <div class="container mx-auto px-6 py-4 text-center text-yellow-200/50 text-sm flex justify-center items-center">
            <p>&copy; 2025 The Dungeon Presents. All Rights Reserved.</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Geolocation for Ride Sharing ---
            navigator.geolocation.getCurrentPosition(position => {
                const { latitude, longitude } = position.coords;
                const uberLink = document.getElementById('uber-link');
                const lyftLink = document.getElementById('lyft-link');

                uberLink.href = `https://m.uber.com/ul/?action=setPickup&pickup[latitude]=${latitude}&pickup[longitude]=${longitude}&dropoff[latitude]=29.492211&dropoff[longitude]=-98.420504&dropoff[formatted_address]=2818%20NE%20Interstate%20410%20Loop%2C%20San%20Antonio%2C%20TX%2078217`;
                lyftLink.href = `https://lyft.com/ride?id=lyft&pickup[latitude]=${latitude}&pickup[longitude]=${longitude}&destination[latitude]=29.492211&destination[longitude]=-98.420504`;

            }, () => {
                console.log("Geolocation permission denied. Ride-sharing links will use default behavior.");
            });


            // Smooth Scroll Logic
            document.querySelectorAll('a.smooth-scroll').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // Mobile Menu Toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (mobileMenu) {
                        mobileMenu.classList.add('hidden');
                    }
                });
            });

            // Countdown Timer Logic
            const countdownElement = document.getElementById('countdown');
            const liveStatusElement = document.getElementById('live-status');
            const eventDate = new Date('September 13, 2025 20:00:00').getTime();

            const countdownInterval = setInterval(() => {
                const now = new Date().getTime();
                const timeLeft = eventDate - now;

                if (timeLeft < 0) {
                    clearInterval(countdownInterval);
                    if (countdownElement) countdownElement.classList.add('hidden');
                    if (liveStatusElement) liveStatusElement.classList.remove('hidden');
                    return;
                }

                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

                document.getElementById('days').innerText = String(days).padStart(2, '0');
                document.getElementById('hours').innerText = String(hours).padStart(2, '0');
                document.getElementById('minutes').innerText = String(minutes).padStart(2, '0');
                document.getElementById('seconds').innerText = String(seconds).padStart(2, '0');
            }, 1000);
            
            // Add to Calendar Logic
            const calendarToggle = document.getElementById('calendar-button-toggle');
            const calendarDropdown = document.getElementById('calendar-dropdown');
            const calendarButtonText = document.getElementById('calendar-button-text');

            const eventDetails = {
                title: "Player‚Äôs Ball",
                location: "Horizons & More - 2818 NE Interstate 410 Loop, San Antonio, TX 78217",
                description: "The Dungeon Presents: Player‚Äôs Ball. An evening dedicated to style, games, and high-class leisure.",
                startTimeUTC: "20250914T010000Z",
                endTimeUTC: "20250914T070000Z"
            };

            const googleLink = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(eventDetails.title)}&dates=${eventDetails.startTimeUTC}/${eventDetails.endTimeUTC}&details=${encodeURIComponent(eventDetails.description)}&location=${encodeURIComponent(eventDetails.location)}`;
            document.getElementById('google-cal-link').href = googleLink;

            document.getElementById('ics-cal-link').addEventListener('click', (e) => {
                e.preventDefault();
                const icsContent = ["BEGIN:VCALENDAR", "VERSION:2.0", "BEGIN:VEVENT", `URL:${document.URL}`, `DTSTART:${eventDetails.startTimeUTC}`, `DTEND:${eventDetails.endTimeUTC}`, `SUMMARY:${eventDetails.title}`, `DESCRIPTION:${eventDetails.description}`, `LOCATION:${eventDetails.location}`, "END:VEVENT", "END:VCALENDAR"].join("\n");
                const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'players-ball-event.ics';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });

            if (calendarToggle && calendarDropdown) {
                 calendarToggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    calendarDropdown.classList.toggle('hidden');
                 });

                document.querySelectorAll('#calendar-dropdown a').forEach(link => {
                    link.addEventListener('click', () => {
                        calendarDropdown.classList.add('hidden');
                        calendarButtonText.innerText = "Right On!";
                        calendarToggle.style.backgroundColor = 'var(--yellow)';

                        setTimeout(() => {
                           calendarButtonText.innerText = "Add to Calendar";
                           calendarToggle.style.backgroundColor = 'var(--orange)';
                        }, 2500);
                    });
                });
                
                window.addEventListener('click', (e) => {
                    if(!calendarDropdown.classList.contains('hidden') && !calendarToggle.contains(e.target)) {
                        calendarDropdown.classList.add('hidden');
                    }
                });
            }

            // Scroll Animation Logic
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-section').forEach(section => observer.observe(section));

            // Modal Logic
            const openModal = (modal) => modal.classList.add('active');
            const closeModal = (modal) => modal.classList.remove('active');

            document.querySelectorAll('.intel-button').forEach(btn => {
                btn.addEventListener('click', () => {
                    const modalId = btn.dataset.modal;
                    const modal = document.getElementById(modalId);
                    if(modal) openModal(modal);
                });
            });

            document.querySelectorAll('.close-modal-button').forEach(btn => {
                btn.addEventListener('click', () => {
                    closeModal(btn.closest('.modal-overlay'));
                });
            });

            document.querySelectorAll('.modal-overlay').forEach(modal => {
                modal.addEventListener('click', (e) => {
                     if(e.target === modal) {
                        closeModal(modal);
                     }
                });
            });
            
            // Dynamic Light Background Logic
            const bg = document.getElementById('luxury-animated-background');
            const lights = [];
            const colors = ['#f97316', '#facc15', '#ef4444'];
            const numLights = 10;

            for (let i = 0; i < numLights; i++) {
                const light = document.createElement('div');
                light.classList.add('light');
                const size = Math.random() * 200 + 100; // size between 100px and 300px
                light.style.width = `${size}px`;
                light.style.height = `${size}px`;
                light.style.background = `radial-gradient(circle, ${colors[i % colors.length]} 10%, transparent 70%)`;
                light.style.top = `${Math.random() * 100}%`;
                light.style.left = `${Math.random() * 100}%`;
                light.dataset.speed = Math.random() * 0.5 + 0.2;
                bg.appendChild(light);
                lights.push(light);
            }

            window.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;

                lights.forEach(light => {
                    const speed = light.dataset.speed;
                    const moveX = (clientX - centerX) * speed / 20;
                    const moveY = (clientY - centerY) * speed / 20;
                    light.style.transform = `translate(${moveX}px, ${moveY}px)`;
                });
            });

        });
    </script>
</body>
</html>

